import React from 'react';
import { Table } from 'antd';
import LessonModal from './LessonModal';
import RemoveTeacherButton from './RemoveTeacherButton';


export default function LessonListView({ teachers }) {
  const columns = [
    {
      title: 'First Name',
      dataIndex: 'firstName',
    },
    {
      title: 'Last Name',
      dataIndex: 'lastName',
    },
    {
      title: 'Teacher ID',
      dataIndex: 'id',
    },
    {
      title: 'User Email',
      dataIndex: 'email',
    },
    {
      title: 'Details',
      dataIndex: 'view',
      width: '10%',
      align: 'center',
      render: (_, record) => (
        <LessonModal
          teacher={record}
          linkBtn={true}
        />
      ),
    },
    {
      title: 'Remove',
      dataIndex: 'remove',
      width: '10%',
      align: 'center',
      render: (_, record) => (
        <RemoveTeacherButton
          teacher={record}
        />
      ),
    },
  ];

  const data = teachers.map((teacher) => ({
    firstName: teacher.first_name,
    lastName: teacher.last_name,
    id: teacher.id,
    email: teacher.user.email,
  }));

  return (
    <div id='table-container'>
      <Table columns={columns} dataSource={data} rowKey='id' />
    </div>
  );
}
